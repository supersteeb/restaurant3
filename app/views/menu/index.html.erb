<h3>Kaewphitak's Menu</h3>

<ul class="nav nav-pills">
	<% Section.all.each do |section| %>
	  <li class="nav-item">

	    <%= link_to section.name, menu_path(section: section.name), class: "nav-link #{'active' if params[:section] == section.name}" %>

	  </li>
  <% end %>
</ul>

<div class="card card-block" >
	<%= form_tag nil, method: 'get' do %>
	<%= hidden_field_tag :section, params[:section] %>
	<div class="form-inline">
		<%= select_tag :sort_column, options_for_select([['Name', 'name'],['Price', 'price']]), class: 'form-control' %>
		<%= select_tag :sort_direction, options_for_select([['Ascending', 'asc'], ['Descending', 'desc']]), class: "form-control" %>
		<%= submit_tag "Sort", class: "btn btn-secondary" %>
</div>
	<% end %>
</div>

<ul class="nav nav-tabs">
  <li class="nav-item">
    <%= link_to "Name", :sort => 'name' %>
  </li>
  <li class="nav-item">
    <%= link_to "Price", :sort => 'price' %>
  </li>
<%#  <%= hidden_field :section, params[:section] %>  <%# how the fuck do you do this? <%# %> 
</ul>

<% @food_items.in_groups_of(3) do |group| %>
	<div class="row">
		<% group.compact.each do |food_item| %>
			<div class="col-sm-4">
				<div class="card">
				  <%= image_tag food_item.image_url_or_default, alt: food_item.name %>
				  <div class="card-block">
				    <h4 class="card-title">
				    	<%= food_item.name %>
				    			  <!-- to display order cart or whatever -->
			  			<span class="tag tag-info"><%= food_item.orders.size %></span>
			 			</h4>
				    <p class="card-text"><%= food_item.description %></p>
				  </div>
				  <div class="card-block">
				    <a href="#" class="card-link btn btn-danger">Order</a>
				  </div>
				</div>
			</div>
	  <% end %>
	</div>
<% end %>

<% if false %>
<!---
<% if @section %>
	<% @section.food_items.each do |food| %>
		<h4><%= food.name %></h4>
		<p><%= food.description %></p>
	<% end %>
<% end %>
=end
-->
<% end %>

